<div class="relative bg-gray-800">
  <div class="relative h-64 md:h-96">
    <% if @user.banner_image.attached? %>
      <%= image_tag @user.banner_image.variant(resize_to_fill: [1200, 400]), alt: @user.username, class: 'w-full h-full object-cover' %>
    <% else %>
      <%= image_tag asset_path('default_banner.png'), alt: @user.username, class: 'w-full h-full object-cover' %>
    <% end %>
    <div class="absolute inset-0 bg-black opacity-50"></div>
  </div>
</div>

<div class="container relative mx-auto px-4 -mt-24">
  <div class="bg-white rounded-lg shadow-lg p-8 flex flex-col md:flex-row items-center md:items-start">
    <div class="relative">
      <% if @user.profile_image.attached? %>
        <%= image_tag @user.profile_image.variant(resize_to_fill: [200, 200]), alt: @user.username, class: 'w-40 h-40 rounded-full object-cover border-4 border-white shadow-lg' %>
      <% else %>
        <%= image_tag asset_path('default_profile.png'), alt: @user.username, class: 'w-40 h-40 rounded-full object-cover border-4 border-white shadow-lg' %>
      <% end %>
    </div>

    <div class="mt-6 md:mt-0 md:ml-6 text-center md:text-left">
      <h1 class="text-3xl font-bold text-gray-900"><%= @user.name %> <%= @user.surname %></h1>
      <p class="text-gray-700 mt-2 text-xl">@<%= @user.username %></p>
      <p class="text-gray-600 mt-4"><%= @user.email %></p>
      <p class="text-gray-600 mt-1"><strong>Adresse :</strong> <%= @user.address %></p>
      <p class="text-gray-600 mt-1"><strong>Ville :</strong> <%= @user.city %></p>
      <p class="text-gray-600 mt-1"><strong>Pays :</strong> <%= @user.country %></p>
      <p class="text-gray-600 mt-1"><strong>Profession :</strong> <%= @user.profession %></p>
      <p class="text-gray-600 mt-1"><strong>Téléphone :</strong> <%= @user.phone_number %></p>
      <p class="text-gray-600 mt-1"><strong>Rôle :</strong> <%= @user.role.present? ? @user.role.capitalize : 'Non spécifié' %></p>
    </div>
  </div>
</div>
